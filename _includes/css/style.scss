
$bracing_blue: #0080ff; // rgb(0,128,255)
$human_yellow: #ffff80; // rgb(255,255,128)
$parsnip_green: #40C000; // rgb(64,192,0)
$otter_orange: #ff4500; // rgb(255,69,0)
$otter_purple: #f00ff0; // rgb(240,15,240)
$github_purple: #400440; // rgb(64,4,64)
$software_background: #f7f8f9;
$images_path: "images/";


/****************************************
 * SASS mixins
 ****************************************/

@mixin text-shadow($shadows...) {
    -webkit-text-shadow: $shadows;
    -moz-text-shadow: $shadows;
    -o-text-shadow: $shadows;
    text-shadow: $shadows;
}

@mixin box-shadow($shadows...) {
    -webkit-box-shadow: $shadows;
    -moz-box-shadow: $shadows;
    -o-box-shadow: $shadows;
    box-shadow: $shadows;
}

@mixin background-size($sizes...) {
    -webkit-background-size: $sizes;
    -moz-background-size: $sizes;
    -o-background-size: $sizes;
    background-size: $sizes;
}

@mixin border-radius($radius...) {
    -moz-border-radius: $radius;
    -khtml-border-radius: $radius;
    -webkit-border-radius: $radius;
    border-radius: $radius;
}

@mixin translateZ($z) {
    -webkit-transform: translateZ(#{$z}px);
    -moz-transform: translateZ(#{$z}px);
    -o-transform: translateZ(#{$z}px);
    -khtml-transform: translateZ(#{$z}px);
    -ms-transform: translateZ(#{$z}px);
    transform: translateZ(#{$z}px);
}

@mixin translateZScale($z) {
    $scale: 1 + ($z * -1) / $perspective;
    -webkit-transform: translateZ(#{$z}px) scale($scale);
    -moz-transform: translateZ(#{$z}px) scale($scale);
    -o-transform: translateZ(#{$z}px) scale($scale);
    -khtml-transform: translateZ(#{$z}px) scale($scale);
    -ms-transform: translateZ(#{$z}px) scale($scale);
    transform: translateZ(#{$z}px) scale($scale);
}

@mixin transform($x...) {
    -webkit-transform: $x;
    -moz-transform: $x;
    -o-transform: $x;
    -khtml-transform: $x;
    -ms-transform: $x;
    transform: $x;
}


/****************************************
 * Global styles
 ****************************************/
html,
body {
    font-size: 16px;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-weight: 300;

    margin: 0;
    padding: 0;
    width: 100%;
    min-height:100%;
    background-color: #000;
    color: #fff;
}

h1, h2, h3, h4, h5, h6 {
    font-weight: 300;
    font-variant: small-caps;
    padding: 0 0 0 0;
    margin: 0 0 0 0;
}

.clear {
    clear: both;
}

.accessibility-text {
    height: 1px;
    width: 1px;
    position: absolute;
    overflow: hidden;
    top: -10px;
}


/****************************************
 * Navigation menu
 ****************************************/
#menu {
    font-size: 1em;
    background-color: transparent;
    position: fixed;
    z-index: 1001;
    right: 0;
    left: 0;
    width: 100%;
    text-align: right;
    padding: 0.2em 0 0.2em 0;
    margin: 0 0 0 0;

    .left-item {
        float: left;
        padding: 0.1em 0 0 1em;

        a {
            #home-image {
                background-position: 50% 50%;
                background-size: 100%;
                width: 20px;
                height: 20px;
            }
        }
    }

    li {
        list-style: none;
        display: inline;

        h2 {
            margin-right: 1em;
            display: inline;
        }
    }

    a {
        color: #fff;
        text-decoration: none;
    }
}

/****************************************
 * Bubbles
 ****************************************/
$font_size: 20;
$bubble_width: 5;
$bubble_color: $bracing_blue;
$bubble_border_color: #fff;
.bubble {
    width: 5em;
    height: 5em;

    background: $bubble_color;
    border: 1px solid $bubble_border_color;

    @include border-radius(50%);

    position: absolute;

    .highlight {
        position: absolute;
        width: 75%;
        height: 75%;
        background: $bubble_color;
        top: 12.5%;
        left: 12.5%;
        border-top: 0.5em solid $bubble_border_color;
        @include border-radius(50%);
    }
}

@for $i from 1 through 5 {
    $bubble_count: 8 * $i;
    $inverse: 6 - $i;
    $layer_height: round(75 * ($inverse + (($inverse - 1) / 2)));
    $adj_font_size: $font_size / $i;

    .bubble-layer-#{$i} {
        font-size: #{$adj_font_size}px;
        height: 100%;
        width: 100%;
        z-index: #{116 - $i};
    }

    @for $j from 1 through $bubble_count {
        .bubble-#{$i}-#{$j} {
            top: random($layer_height) * 1%;
            left: ((($j - 1) / $bubble_count)  * 100) * 1%;
            margin-left: -#{$bubble_width / 4}em;
        }
    }
}

/****************************************
 * Mobile scrollbar
 ****************************************/
#scrollbar {
    position: fixed;
    right: 2px;
    height: 50px;
    width: 6px;
    background: #eee;
    background: rgba(255,255,255,0.5);
    border: 1px solid rgba(64,64,64,0.5);
    z-index: 300;
    @include border-radius(4px);
    z-index: 1000;
}

.skrollr-desktop #scrollbar {display:none;}

/****************************************
 * Slides
 ****************************************/
#home {
    width: 100%;
    height: 100%;
    background-color: $bracing_blue;
    overflow: hidden;
    z-index: 101;
    @include box-shadow(0 0 4em rgba(0, 0, 0, 0.675));

    #title {
        font-size: 4em;
        text-align: center;
        width: 100%;
        margin: 0 0 0 0;
        white-space: nowrap;
    }

    #quotes {
        width: 100%;

        #quote_a, #quote_b {
            text-align: center;
            width: 100%;
            font-size: 3em;
            white-space: nowrap;
        }

        #quote_a {
            margin: 0 0 0 -7%;
        }

        #quote_b {
            margin: 0 0 0 3%;
        }
    }
}

#design {
    z-index: 91;

    #design_quotes {
        height: 60%;
        width: 100%;

        #design_quote_a, #design_quote_b {
            text-align: center;
            width: 100%;
            font-size: 3em;
            white-space: nowrap;
        }

        #design_quote_a {
            margin: -2em 0 0 -20%;
        }

        #design_quote_b {
            margin: 3em 0 0 0;
        }

        a {
            color: #fff;
            text-decoration: none;
            position: absolute;
            right: 24px;
            bottom: 24px;
            font-size: 12px;
        }
    }
}

#parsnip {
    width: 100%;
    height: 100%;
    z-index: 102;

    background-color: $software_background;
    background-image: url(images/software-background.jpg);
    background-position: 0 0;
    background-repeat: repeat-x;
    background-size: auto;


    overflow: hidden;
    border-top-right-radius: 1px; /* required for iOS zoom bug */
    border-top-left-radius: 1px; /* required for iOS zoom bug */

    .header {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6.5em;
        background-color: $software_background;
        border-bottom: 1px solid #ffffff;
        box-shadow: 0 -4px 8px #000000;
        white-space: nowrap;
    }
    .header a,
    .header h1,
    .header h2 {
        white-space: nowrap;
        display: inline-block;
    }
    .header h1,
    .header h2 {
        color: #60B000; // rgb(96, 176, 0)
        // color: rgba(48, 176, 0, 0.5);
        // text-shadow: 0 1px 2px #f7f8f9, 0 0 0 #000000;
    }
    .header h1 {
        font-size: 4.7em;
        margin: 0.35em 0 0 1.75em;
    }
    .header h2 {
        font-size: 1.25em;
        font-variant: normal;
    }
    #parsnip-logo {
        width: 7em;
        position: absolute;
        top: 0.2em;
        left: 2em;
    }
    #parsnip-logo .spacer {
        padding-top: 162.319%;
    }
    #badge-container {
        width: 100%;
        text-align: center;
        position: absolute;
        bottom: 5%;
    }
    #appstore-badge {
        margin-bottom: 1em;
    }
    #appstore-badge, #github-badge {
        width: 200px;
    }
    #appstore-badge .spacer, #github-badge .spacer {
        padding-top: 29.722%;
    }
    .content {
        background-color: $software_background;
        background-image: url(#{$images_path}software-background.jpg);
        background-position: 0 0;
        background-repeat: repeat-x;
        background-size: auto;
        position: absolute;
        top: 6.5em;
        left: 0;
        right: 0;
        bottom: 0;
    }
    #sidebar {
        position: absolute;
        width: 14em;
        top: 2.5%;
        left: 0;
        bottom: 2%;
    }
    #description {
        overflow-y: auto;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch; /* Touch scrolling on iOS */
        z-index: 0; /* Touch scrolling on Android */
        position: absolute;
        top: 5em;
        bottom: 0;
        left: 0.75em;
        right: 0.75em;
    }
    @media all and (max-width: 348px), all and (max-height: 348px)  {
        #description {
            margin-bottom: 29.722%;
        }
    }
    @media
    all and (orientation: portrait) and (device-width: 320px) and (max-width: 348px),
    all and (orientation: portrait) and (device-width: 320px) and (max-height: 348px),
    all and (orientation: landscape) and (device-width: 320px) and (max-width: 348px),
    all and (orientation: landscape) and (device-width: 320px) and (max-height: 348px)  {
        /* Handle iOS 6 */
        #description {
            margin-bottom: 3.6em;
        }
    }
    #description .text {
        font-size: 1em;
        color: #000;
    }
    #description a {
        color: $parsnip_green;
    }
    #description p {
        margin-bottom: 1em;
    }
    #swiper-shadow-left {
        position: absolute;
        width: 14px;
        margin-left: -14px;
        top: 2.5%;
        left: 14em;
        bottom: 2%;
        border-right: 1px solid #f6f7f8;
        box-shadow: 5px 0 6px -6px #000000;
        border-top-left-radius: 1px; /* required for iOS zoom bug */
        border-bottom-left-radius: 1px; /* required for iOS zoom bug */
        z-index: 1;
    }
    #swiper-shadow-right {
        position: absolute;
        width: 14px;
        margin-right: -14px;
        top: 2.5%;
        right: 2.5%;
        bottom: 2%;
        border-left: 1px solid #f6f7f8;
        box-shadow: -5px 0 6px -6px #000000;
        border-top-right-radius: 1px; /* required for iOS zoom bug */
        border-bottom-right-radius: 1px; /* required for iOS zoom bug */
        z-index: 1;
    }
    #swiper {
        overflow-x: scroll;
        overflow-y: hidden;
        -webkit-overflow-scrolling: touch; /* Touch scrolling on iOS */
        z-index: 0; /* Touch scrolling on Android */
        position: absolute;
        top: 2.5%;
        left: 14em;
        right: 2.5%;
        bottom: 2%;
    }
    #swiper > * {
        -webkit-transform: translateZ(0px);
    }
    #swiper .swiper-spacer {
        height: 3.33%;
        width: 100%;
    }
    #swiper .swiper-wrapper {
        white-space: nowrap;
        height: 91.67%;
    }
    #swiper .screenshot {
        box-shadow: 0 8px 8px rgba(0, 0, 0, 0.625);
        border-radius: 1px; /* required for iOS zoom bug */
        margin: 0 1em 0 1em;
        max-height: 100%;
        width: auto;
        max-width: 92%;
    }
}

#charity {
    text-align: center;
    width: 100%;
    z-index: 90;

    h1 {
        margin: 0 0 0.5em 0;
        font-size: 2.5em;
    }

    #charity-logo {
        font-size: 1.5em;
        display: inline-block;
        text-align: left;

        #charity-logo-text {
            text-align: right;

            #charity-the, #charity-human, #charity-fund, #charity-money {
                font-family: "Times New Roman", Times, serif;
            }

            #charity-the {
                font-size: 2em;

                span {
                    display: inline-block;
                    padding: 0 0.225em 0 0.125em;
                    text-align: center;
                }

                span.left {
                    width: 1em;
                }

                span.right {
                    width: 5.9em;
                }

                span.underline {
                    border-bottom: 1px $human_yellow solid;
                }
            }

            #charity-human {
                color: #ffffff;
            }

            #charity-the, #charity-fund, #charity-money {
                color: $human_yellow;
            }

            #charity-human, #charity-fund {
                font-size: 5.25em;
                line-height: 1em;
            }

            #charity-money {
                font-size: 2em;
                font-style: italic;
                line-height: 1.75em;

                span.overline {
                    border-top: 1px $human_yellow solid;

                    span {
                        position: static;
                    }
                }
            }
        }

        #charity-logo-image {
            background-position: 50% 50%;
            background-size: 100%;
            width: 5em;
            margin: -8.5em 1em 0 0;
            position: static;
        }
    }
}

#contact {
    text-align: center;
    width: 100%;

    a {
        color: $bracing_blue;
    }

    #bracingeffect-logo {
        background-position: 50% 50%;
        background-size: 100%;
        width: 16em;
    }

    .email {
        font-size: 1.5em;
        width: 100%;
    }
}

/****************************************
 * Background images
 ****************************************/
.background-image {
    // background-color: transparent;
    // background-position: center center;
    // background-repeat: no-repeat;
    // color: transparent;
    // display: inline-block;
    // font-size: 1em;
    // line-height: 0;
    // text-shadow: none;
    // vertical-align: middle;

    background-color: transparent;
    background-position: 50% 50%;
    background-size: 100%;
    background-repeat: no-repeat;
    color: transparent;
    display: inline-block;
    line-height: 0;
    text-shadow: none;
    vertical-align: middle;
}

.spacer {
    display: block;
    height: 0;
}

@each $w, $h, $padding in (1, 1, 100%),
                          (1, 2, 200%),
                          (2, 1, 50%),
                          (3, 4, 133%),
                          (4, 1, 25%),
                          (4, 3, 75%),
                          (5, 6, 120%),
                          (6, 7, 116.67%) {
    .ratio-#{$w}x#{$h} .spacer, .ratio-#{$w}x#{$h} > .spacer {
        padding-top: #{$padding};
    }
}

.slide {
    background-color: #000000;
    color: #ffffff;
    height: 100%;
    overflow: hidden;
    width: 100%;
}

.slide .slide-image {
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
    height: 100%;
    width: 100%;
}

#home-image{background-image:url(#{$images_path}home.png)}
#parsnip-logo{background-image:url(#{$images_path}parsnip-logo.png)}
#appstore-badge{background-image:url(#{$images_path}appstore-badge.png)}
#github-badge{background-image:url(#{$images_path}github-badge.png)}
#charity-logo-image{background-image:url(#{$images_path}thehumanfund.png)}
#bracingeffect-logo{background-image:url(#{$images_path}bracingeffect-logo.png)}
#design .background-image{background-image:url(#{$images_path}otters1024x768.jpg)}

@media
only screen and (-webkit-min-device-pixel-ratio:2),
only screen and (min--moz-device-pixel-ratio:2),
only screen and (-moz-min-device-pixel-ratio:2),
only screen and (-o-min-device-pixel-ratio:2/1),
only screen and (min-device-pixel-ratio:2),
only screen and (min-resolution:192dpi),
only screen and (min-resolution:2dppx) {
    #home-image{background-image:url(#{$images_path}home_2x.png)}
    #parsnip-logo{background-image:url(#{$images_path}parsnip-logo_2x.png)}
    #appstore-badge{background-image:url(#{$images_path}appstore-badge_2x.png)}
    #github-badge{background-image:url(#{$images_path}github-badge_2x.png)}
    #charity-logo-image{background-image:url(#{$images_path}thehumanfund_2x.png)}
    #bracingeffect-logo{background-image:url(#{$images_path}bracingeffect-logo_2x.png)}
}
